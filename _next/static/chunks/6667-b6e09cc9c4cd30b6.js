"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6667],{37482:function(t,n,e){e.d(n,{E:function(){return ht}});var o=e(70655),i=e(59881),r=e(4007),a=e(24010),s=e(71903),u=e(11720),l=e(24394),c=e(60900),p=e(28148),v=e(89073),d=e(86917),f=e(70737),m=e(38677),h=e(9897),g=function(){function t(t,n,e){var i=this,r=(void 0===e?{}:e).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var t=x(i.lastMoveEventInfo,i.history),n=null!==i.startEvent,e=(0,m.T)(t.offset,{x:0,y:0})>=3;if(n||e){var r=t.point,a=(0,v.$B)().timestamp;i.history.push((0,o.pi)((0,o.pi)({},r),{timestamp:a}));var s=i.handlers,u=s.onStart,l=s.onMove;n||(u&&u(i.lastMoveEvent,t),i.startEvent=i.lastMoveEvent),l&&l(i.lastMoveEvent,t)}}},this.handlePointerMove=function(t,n){i.lastMoveEvent=t,i.lastMoveEventInfo=y(n,i.transformPagePoint),(0,c.N)(t)&&0===t.buttons?i.handlePointerUp(t,n):v.ZP.update(i.updatePoint,!0)},this.handlePointerUp=function(t,n){i.end();var e=i.handlers,o=e.onEnd,r=e.onSessionEnd,a=x(y(n,i.transformPagePoint),i.history);i.startEvent&&o&&o(t,a),r&&r(t,a)},!((0,c.z)(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=r;var a=y((0,p.Q)(t),this.transformPagePoint),s=a.point,u=(0,v.$B)().timestamp;this.history=[(0,o.pi)((0,o.pi)({},s),{timestamp:u})];var l=n.onSessionStart;l&&l(t,x(a,this.history)),this.removeListeners=(0,h.z)((0,f.a)(window,"pointermove",this.handlePointerMove),(0,f.a)(window,"pointerup",this.handlePointerUp),(0,f.a)(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(t){this.handlers=t},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),v.qY.update(this.updatePoint)},t}();function y(t,n){return n?{point:n(t.point)}:t}function E(t,n){return{x:t.x-n.x,y:t.y-n.y}}function x(t,n){var e=t.point;return{point:e,delta:E(e,C(n)),offset:E(e,P(n)),velocity:b(n,.1)}}function P(t){return t[0]}function C(t){return t[t.length-1]}function b(t,n){if(t.length<2)return{x:0,y:0};for(var e=t.length-1,o=null,i=C(t);e>=0&&(o=t[e],!(i.timestamp-o.timestamp>(0,d.w)(n)));)e--;if(!o)return{x:0,y:0};var r=(i.timestamp-o.timestamp)/1e3;if(0===r)return{x:0,y:0};var a={x:(i.x-o.x)/r,y:(i.y-o.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}var L=e(37544),M=e(51804),R=e(72453),D=e(9326),S=e(6773),T=e(16645);function A(t,n,e){return{min:void 0!==n?t.min+n:void 0,max:void 0!==e?t.max+e-(t.max-t.min):void 0}}function w(t,n){var e,i=n.min-t.min,r=n.max-t.max;return n.max-n.min<t.max-t.min&&(i=(e=(0,o.CR)([r,i],2))[0],r=e[1]),{min:i,max:r}}var k=.35;function U(t,n,e){return{min:j(t,n),max:j(t,e)}}function j(t,n){var e;return"number"===typeof t?t:null!==(e=t[n])&&void 0!==e?e:0}var V=e(3233),G=e(61512),I=e(91730),B=e(56460),z=e(6009),O=e(76117),_=e(51756),J=e(2754),N=new WeakMap,W=function(){function t(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=(0,G.dO)(),this.visualElement=t}return t.prototype.start=function(t,n){var e=this,o=(void 0===n?{}:n).snapToCursor,i=void 0!==o&&o;if(!1!==this.visualElement.isPresent){this.panSession=new g(t,{onSessionStart:function(t){e.stopAnimation(),i&&e.snapToCursor((0,p.Q)(t,"page").point)},onStart:function(t,n){var o,i=e.getProps(),r=i.drag,a=i.dragPropagation,s=i.onDragStart;(!r||a||(e.openGlobalLock&&e.openGlobalLock(),e.openGlobalLock=(0,L.fJ)(r),e.openGlobalLock))&&(e.isDragging=!0,e.currentDirection=null,e.resolveConstraints(),e.visualElement.projection&&(e.visualElement.projection.isAnimationBlocked=!0,e.visualElement.projection.target=void 0),(0,I.U)((function(t){var n,o,i=e.getAxisMotionValue(t).get()||0;if(J.aQ.test(i)){var r=null===(o=null===(n=e.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===o?void 0:o.actual[t];if(r)i=(0,T.JO)(r)*(parseFloat(i)/100)}e.originPoint[t]=i})),null===s||void 0===s||s(t,n),null===(o=e.visualElement.animationState)||void 0===o||o.setActive(V.r.Drag,!0))},onMove:function(t,n){var o=e.getProps(),i=o.dragPropagation,r=o.dragDirectionLock,a=o.onDirectionLock,s=o.onDrag;if(i||e.openGlobalLock){var u=n.offset;if(r&&null===e.currentDirection)return e.currentDirection=function(t,n){void 0===n&&(n=10);var e=null;Math.abs(t.y)>n?e="y":Math.abs(t.x)>n&&(e="x");return e}(u),void(null!==e.currentDirection&&(null===a||void 0===a||a(e.currentDirection)));e.updateAxis("x",n.point,u),e.updateAxis("y",n.point,u),e.visualElement.syncRender(),null===s||void 0===s||s(t,n)}},onSessionEnd:function(t,n){return e.stop(t,n)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},t.prototype.stop=function(t,n){var e=this.isDragging;if(this.cancel(),e){var o=n.velocity;this.startAnimation(o);var i=this.getProps().onDragEnd;null===i||void 0===i||i(t,n)}},t.prototype.cancel=function(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(t=this.panSession)||void 0===t||t.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(n=this.visualElement.animationState)||void 0===n||n.setActive(V.r.Drag,!1)},t.prototype.updateAxis=function(t,n,e){var o=this.getProps().drag;if(e&&Q(t,o,this.currentDirection)){var i=this.getAxisMotionValue(t),r=this.originPoint[t]+e[t];this.constraints&&this.constraints[t]&&(r=function(t,n,e){var o=n.min,i=n.max;return void 0!==o&&t<o?t=e?(0,R.C)(o,t,e.min):Math.max(t,o):void 0!==i&&t>i&&(t=e?(0,R.C)(i,t,e.max):Math.min(t,i)),t}(r,this.constraints[t],this.elastic[t])),i.set(r)}},t.prototype.resolveConstraints=function(){var t=this,n=this.getProps(),e=n.dragConstraints,o=n.dragElastic,i=(this.visualElement.projection||{}).layout,r=this.constraints;e&&(0,M.I)(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!i)&&function(t,n){var e=n.top,o=n.left,i=n.bottom,r=n.right;return{x:A(t.x,o,r),y:A(t.y,e,i)}}(i.actual,e),this.elastic=function(t){return void 0===t&&(t=k),!1===t?t=0:!0===t&&(t=k),{x:U(t,"left","right"),y:U(t,"top","bottom")}}(o),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&(0,I.U)((function(n){t.getAxisMotionValue(n)&&(t.constraints[n]=function(t,n){var e={};return void 0!==n.min&&(e.min=n.min-t.min),void 0!==n.max&&(e.max=n.max-t.min),e}(i.actual[n],t.constraints[n]))}))},t.prototype.resolveRefConstraints=function(){var t=this.getProps(),n=t.dragConstraints,e=t.onMeasureDragConstraints;if(!n||!(0,M.I)(n))return!1;var o=n.current;(0,l.k)(null!==o,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var r=(0,B.z)(o,i.root,this.visualElement.getTransformPagePoint()),a=function(t,n){return{x:w(t.x,n.x),y:w(t.y,n.y)}}(i.layout.actual,r);if(e){var s=e((0,O.z2)(a));this.hasMutatedConstraints=!!s,s&&(a=(0,O.i8)(s))}return a},t.prototype.startAnimation=function(t){var n=this,e=this.getProps(),i=e.drag,r=e.dragMomentum,a=e.dragElastic,s=e.dragTransition,u=e.dragSnapToOrigin,l=e.onDragTransitionEnd,c=this.constraints||{},p=(0,I.U)((function(e){var l;if(Q(e,i,n.currentDirection)){var p=null!==(l=null===c||void 0===c?void 0:c[e])&&void 0!==l?l:{};u&&(p={min:0,max:0});var v=a?200:1e6,d=a?40:1e7,f=(0,o.pi)((0,o.pi)({type:"inertia",velocity:r?t[e]:0,bounceStiffness:v,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},s),p);return n.startAxisValueAnimation(e,f)}}));return Promise.all(p).then(l)},t.prototype.startAxisValueAnimation=function(t,n){var e=this.getAxisMotionValue(t);return(0,z.b8)(t,e,0,n)},t.prototype.stopAnimation=function(){var t=this;(0,I.U)((function(n){return t.getAxisMotionValue(n).stop()}))},t.prototype.getAxisMotionValue=function(t){var n,e,o="_drag"+t.toUpperCase(),i=this.visualElement.getProps()[o];return i||this.visualElement.getValue(t,null!==(e=null===(n=this.visualElement.getProps().initial)||void 0===n?void 0:n[t])&&void 0!==e?e:0)},t.prototype.snapToCursor=function(t){var n=this;(0,I.U)((function(e){if(Q(e,n.getProps().drag,n.currentDirection)){var o=n.visualElement.projection,i=n.getAxisMotionValue(e);if(o&&o.layout){var r=o.layout.actual[e],a=r.min,s=r.max;i.set(t[e]-(0,R.C)(a,s,.5))}}}))},t.prototype.scalePositionWithinConstraints=function(){var t,n=this,e=this.getProps(),o=e.drag,i=e.dragConstraints,r=this.visualElement.projection;if((0,M.I)(i)&&r&&this.constraints){this.stopAnimation();var a={x:0,y:0};(0,I.U)((function(t){var e=n.getAxisMotionValue(t);if(e){var o=e.get();a[t]=function(t,n){var e=.5,o=(0,T.JO)(t),i=(0,T.JO)(n);return i>o?e=(0,D.Y)(n.min,n.max-o,t.min):o>i&&(e=(0,D.Y)(t.min,t.max-i,n.min)),(0,S.u)(0,1,e)}({min:o,max:o},n.constraints[t])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(t=r.root)||void 0===t||t.updateScroll(),r.updateLayout(),this.resolveConstraints(),(0,I.U)((function(t){if(Q(t,o,null)){var e=n.getAxisMotionValue(t),i=n.constraints[t],r=i.min,s=i.max;e.set((0,R.C)(r,s,a[t]))}}))}},t.prototype.addListeners=function(){var t,n=this;N.set(this.visualElement,this);var e=this.visualElement.getInstance(),o=(0,f.a)(e,"pointerdown",(function(t){var e=n.getProps(),o=e.drag,i=e.dragListener;o&&(void 0===i||i)&&n.start(t)})),i=function(){var t=n.getProps().dragConstraints;(0,M.I)(t)&&(n.constraints=n.resolveRefConstraints())},r=this.visualElement.projection,a=r.addEventListener("measure",i);r&&!r.layout&&(null===(t=r.root)||void 0===t||t.updateScroll(),r.updateLayout()),i();var s=(0,_.E)(window,"resize",(function(){return n.scalePositionWithinConstraints()}));return r.addEventListener("didUpdate",(function(t){var e=t.delta,o=t.hasLayoutChanged;n.isDragging&&o&&((0,I.U)((function(t){var o=n.getAxisMotionValue(t);o&&(n.originPoint[t]+=e[t].translate,o.set(o.get()+e[t].translate))})),n.visualElement.syncRender())})),function(){s(),o(),a()}},t.prototype.getProps=function(){var t=this.visualElement.getProps(),n=t.drag,e=void 0!==n&&n,i=t.dragDirectionLock,r=void 0!==i&&i,a=t.dragPropagation,s=void 0!==a&&a,u=t.dragConstraints,l=void 0!==u&&u,c=t.dragElastic,p=void 0===c?k:c,v=t.dragMomentum,d=void 0===v||v;return(0,o.pi)((0,o.pi)({},t),{drag:e,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:p,dragMomentum:d})},t}();function Q(t,n,e){return(!0===n||n===t)&&(null===e||e===t)}var Y=e(96681);var Z=e(16014),$=e(65411);var F=e(5445),H={pan:(0,F.x)((function(t){var n=t.onPan,e=t.onPanStart,o=t.onPanEnd,i=t.onPanSessionStart,r=t.visualElement,a=n||e||o||i,s=(0,u.useRef)(null),l=(0,u.useContext)(Z._).transformPagePoint,c={onSessionStart:i,onStart:e,onMove:n,onEnd:function(t,n){s.current=null,o&&o(t,n)}};(0,u.useEffect)((function(){null!==s.current&&s.current.updateHandlers(c)})),(0,f.m)(r,"pointerdown",a&&function(t){s.current=new g(t,c,{transformPagePoint:l})}),(0,$.z)((function(){return s.current&&s.current.end()}))})),drag:(0,F.x)((function(t){var n=t.dragControls,e=t.visualElement,o=(0,Y.h)((function(){return new W(e)}));(0,u.useEffect)((function(){return n&&n.subscribe(o)}),[o,n]),(0,u.useEffect)((function(){return o.addListeners()}),[o])}))},q=e(15961),X=e(15947),K=e(25364),tt=e(41705),nt=e(50885);function et(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}var ot={correct:function(t,n){if(!n.target)return t;if("string"===typeof t){if(!J.px.test(t))return t;t=parseFloat(t)}var e=et(t,n.target.x),o=et(t,n.target.y);return"".concat(e,"% ").concat(o,"%")}},it=e(12981),rt=e(47539),at="_$css",st={correct:function(t,n){var e=n.treeScale,o=n.projectionDelta,i=t,r=t.includes("var("),a=[];r&&(t=t.replace(rt.Xp,(function(t){return a.push(t),at})));var s=it.P.parse(t);if(s.length>5)return i;var u=it.P.createTransformer(t),l="number"!==typeof s[0]?1:0,c=o.x.scale*e.x,p=o.y.scale*e.y;s[0+l]/=c,s[1+l]/=p;var v=(0,R.C)(c,p,.5);"number"===typeof s[2+l]&&(s[2+l]/=v),"number"===typeof s[3+l]&&(s[3+l]/=v);var d=u(s);if(r){var f=0;d=d.replace(at,(function(){var t=a[f];return f++,t}))}return d}},ut=e(64561),lt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return(0,o.ZT)(n,t),n.prototype.componentDidMount=function(){var t=this,n=this.props,e=n.visualElement,i=n.layoutGroup,r=n.switchLayoutGroup,a=n.layoutId,s=e.projection;(0,ut.B)(ct),s&&((null===i||void 0===i?void 0:i.group)&&i.group.add(s),(null===r||void 0===r?void 0:r.register)&&a&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions((0,o.pi)((0,o.pi)({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),nt.VN.hasEverUpdated=!0},n.prototype.getSnapshotBeforeUpdate=function(t){var n=this,e=this.props,o=e.layoutDependency,i=e.visualElement,r=e.drag,a=e.isPresent,s=i.projection;return s?(s.isPresent=a,r||t.layoutDependency!==o||void 0===o?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||v.ZP.postRender((function(){var t;(null===(t=s.getStack())||void 0===t?void 0:t.members.length)||n.safeToRemove()}))),null):null},n.prototype.componentDidUpdate=function(){var t=this.props.visualElement.projection;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())},n.prototype.componentWillUnmount=function(){var t=this.props,n=t.visualElement,e=t.layoutGroup,o=t.switchLayoutGroup,i=n.projection;i&&(i.scheduleCheckAfterUnmount(),(null===e||void 0===e?void 0:e.group)&&e.group.remove(i),(null===o||void 0===o?void 0:o.deregister)&&o.deregister(i))},n.prototype.safeToRemove=function(){var t=this.props.safeToRemove;null===t||void 0===t||t()},n.prototype.render=function(){return null},n}(u.default.Component);var ct={borderRadius:(0,o.pi)((0,o.pi)({},ot),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomLeftRadius:ot,borderBottomRightRadius:ot,boxShadow:st},pt={measureLayout:function(t){var n=(0,o.CR)((0,X.oO)(),2),e=n[0],i=n[1],r=(0,u.useContext)(K.p);return u.default.createElement(lt,(0,o.pi)({},t,{layoutGroup:r,switchLayoutGroup:(0,u.useContext)(tt.g),isPresent:e,safeToRemove:i}))}},vt=(0,nt.yV)({attachResizeListener:function(t,n){return(0,_.E)(t,"resize",n)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),dt={current:void 0},ft=(0,nt.yV)({measureScroll:function(t){return{x:t.scrollLeft,y:t.scrollTop}},defaultParent:function(){if(!dt.current){var t=new vt(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),dt.current=t}return dt.current},resetTransform:function(t,n){t.style.transform=null!==n&&void 0!==n?n:"none"}}),mt=(0,o.pi)((0,o.pi)((0,o.pi)((0,o.pi)({},s.s),a.E),H),pt),ht=(0,i.D)((function(t,n){return(0,r.w)(t,n,mt,q.b,ft)}))},30487:function(t,n,e){e.d(n,{n:function(){return a}});var o=e(70655),i=e(35755),r=e(11720);function a(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=(0,r.useRef)(0),a=(0,o.CR)((0,r.useState)(t[e.current]),2),s=a[0],u=a[1],l=(0,r.useCallback)((function(n){e.current="number"!==typeof n?(0,i.r)(0,t.length,e.current+1):n,u(t[e.current])}),(0,o.ev)([t.length],(0,o.CR)(t),!1));return[s,l]}}}]);